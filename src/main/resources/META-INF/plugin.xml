<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.kozhun.commit-message-template</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Committle</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="kozhun12345@gmail.com">Eugene Kozhun</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
        <p><strong>Committle</strong> helps you write clear, consistent commit messages in JetBrains IDEs. Keep your
            history clean and follow your teamâ€™s conventions with minimal effort. Compatible with
            <a href="https://www.conventionalcommits.org/">Conventional Commits</a>.</p>

        <h3 style="margin-bottom: 0">âœ¨ Key Features</h3>
        <ul>
            <li><strong>Default commit message template</strong> to speed up routine commits.</li>
            <li>Customizable <strong>variables</strong> (task ID, scope, type) with optional <strong>defaults</strong> and
                <strong>autocompletion</strong> in the template editor.</li>
            <li>Precise formatting with <strong>whitespace</strong> rules and <strong>caret position</strong> control.</li>
            <li>Apply the template instantly via a button or <strong>shortcut</strong>.</li>
        </ul>

        <h3>ğŸ› ï¸ How to Use</h3>
        <ul>
            <li>Configure your template in <strong>Settings â†’ Version Control â†’ Committle</strong>.</li>
            <li>Open the commit dialog and click <em>Insert Pattern Message</em> or use the shortcut <strong>Ctrl+Shift+T</strong>.</li>
            <li>Adjust generated values (if needed) and commit.</li>
        </ul>

        <h3>ğŸ Bug Reporting</h3>
        <p>
            Found a bug or have an idea? <a href="https://github.com/EugeneKozhun/commit-message-template/issues">Open an issue on GitHub</a>.
        </p>

        <h3>ğŸ’› Support</h3>
        <p>
            If this plugin helps you, consider supporting development on <a href="https://boosty.to/eugenekozhun">Boosty</a>.
        </p>

        <h3>ğŸ”— Links</h3>
        <p>
            <a href="https://github.com/EugeneKozhun/commit-message-template">GitHub</a>
        </p>
        ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <projectConfigurable
                parentId="project.propVCSSupport.Mappings"
                displayName="Committle"
                id="preferences.CommittleConfigurable"
                instance="com.kozhun.commitmessagetemplate.ui.page.CMTSettingsPage"/>
        <fileType
                name="Committle"
                implementationClass="com.kozhun.commitmessagetemplate.language.CMTFileType"
                fieldName="INSTANCE"
                language="CMT"
                extensions="cmt"/>
        <lang.parserDefinition
                language="CMT"
                implementationClass="com.kozhun.commitmessagetemplate.language.parser.CMTParserDefinition"/>
        <lang.syntaxHighlighterFactory
                language="CMT"
                implementationClass="com.kozhun.commitmessagetemplate.language.highlighter.CMTSyntaxHighlighterFactory"/>
        <completion.contributor language="CMT" implementationClass="com.kozhun.commitmessagetemplate.language.completion.CMTCompletionContributor"/>
        <postStartupActivity implementation="com.kozhun.commitmessagetemplate.listener.SettingsMigrator"/>
        <notificationGroup id="Committle Notifications"
                           displayType="BALLOON"
                           isLogByDefault="true" />
    </extensions>

    <actions>
        <action id="com.kozhun.commitmessagetemplate.action.GenerateCommitMessageAction"
                class="com.kozhun.commitmessagetemplate.action.GenerateCommitMessageAction"
                text="Insert Pattern Message"
                description="Format the message according to the template"
                icon="/icons/format-button.svg">
            <add-to-group group-id="Vcs.MessageActionGroup" anchor="first"/>
            <keyboard-shortcut first-keystroke="ctrl shift T" keymap="$default"/>
        </action>
    </actions>

</idea-plugin>
